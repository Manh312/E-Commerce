<header
  class="bg-gray-900 text-white py-4 px-4 shadow-[0_4px_12px_rgba(0,0,0,0.2)] sticky top-0 z-50 bg-gradient-to-r from-gray-900 to-gray-500 transition-all duration-500"
>
  <div class="flex items-center justify-between p-4 mx-auto relative">
    <div class="flex items-center space-x-4">
      <button
        routerLink="/"
        routerLinkActive="router-link-active"
        class="app-icon flex items-center"
      >
        <img
          src="/logo.png"
          alt="App Logo"
          class="h-auto w-20 md:w-24 relative"
        />
        <span
          class="app-name text-xl md:text-2xl font-bold ml-2 absolute left-23"
          >Apple</span
        >
      </button>
      <div class="search-bar w-full md:w-auto hidden md:block relative left-20">
        <input
          type="text"
          placeholder="Tìm kiếm điện thoại..."
          class="w-full md:w-96 lg:w-160 p-2 rounded-full bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </div>
    </div>
    <!-- Nút hamburger chỉ hiển thị trên mobile -->
    <button class="hamburger-button md:hidden" (click)="toggleMenu()">
      <mat-icon class="text-white">menu</mat-icon>
    </button>
    <!-- Menu hành động ẩn hoàn toàn trên mobile, hiển thị trên desktop -->
    <div
      class="actions hidden md:flex md:items-center md:space-x-4"
      [ngClass]="{
        'flex flex-col absolute top-full left-0 bg-gray-900 p-3 rounded-b-lg w-full': isMenuOpen && isMobile,
        'hidden': !isMenuOpen && isMobile
      }"
    >
      <button mat-icon-button class="hover:bg-gray-700 rounded-full p-2">
        <mat-icon>favorite</mat-icon>
      </button>
      <button mat-icon-button class="hover:bg-gray-700 rounded-full p-2">
        <mat-icon>shopping_cart</mat-icon>
      </button>
      <!-- Nút "Tất cả thiết bị" trên mobile -->
      <div class="md:hidden relative my-2">
        <button
          mat-flat-button
          [matMenuTriggerFor]="menuMobile"
          class="bg-gray-800 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-gray-700 focus:bg-gray-700 transition-all duration-300 w-full justify-center"
        >
          <mat-icon>grid_view</mat-icon>
          <span>Tất cả thiết bị</span>
        </button>
        <mat-menu #menuMobile="matMenu" class="bg-gray-800 rounded-lg">
          <ng-container *ngFor="let category of categories">
            <button
              mat-menu-item
              class="text-white hover:bg-gray-700 flex items-center space-x-2"
              [routerLink]="category.link"
              routerLinkActive="router-link-active"
            >
              <mat-icon>{{ category.icon }}</mat-icon>
              <span>{{ category.name }}</span>
            </button>
          </ng-container>
        </mat-menu>
      </div>
      <!-- Menu điều hướng trên mobile -->
      <div class="flex flex-col space-y-1 mt-1 md:hidden">
        <a
          *ngFor="let navItem of navItems"
          class="text-white hover:bg-gray-700 rounded-lg px-4 py-1 text-decoration-none transition-all duration-300"
          [routerLink]="navItem.link"
          routerLinkActive="router-link-active"
        >
          {{ navItem.name }}
        </a>
      </div>
    </div>
  </div>
  <div class="flex items-center justify-start mt-4 gap-10">
    <!-- Nút "Tất cả thiết bị" trên desktop -->
    <div class="hidden md:block w-40 ml-13 p-2 bg-gray-500 hover:bg-gray-700 rounded-lg flex items-center justify-center space-x-2">
      <button
        mat-flat-button
        [matMenuTriggerFor]="menu"
        aria-label="Example icon-button with a menu"
        class="flex items-center space-x-2"
      >
        <mat-icon>grid_view</mat-icon>
        Tất cả thiết bị
      </button>
      <mat-menu #menu="matMenu" class="bg-gray-800 rounded-lg">
        <ng-container *ngFor="let category of categories">
          <button
            mat-menu-item
            class="text-white hover:bg-gray-700 flex items-center space-x-2"
            [routerLink]="category.link"
            routerLinkActive="router-link-active"
          >
            <mat-icon>{{ category.icon }}</mat-icon>
            <span>{{ category.name }}</span>
          </button>
        </ng-container>
      </mat-menu>
    </div>
    <!-- Menu điều hướng trên desktop -->
    <nav class="hidden md:flex md:items-center md:space-x-6">
      <a
        *ngFor="let navItem of navItems"
        class="text-white hover:bg-gray-500 rounded-lg px-4 py-2 transition-all duration-300 text-decoration-none"
        [routerLink]="navItem.link"
        routerLinkActive="router-link-active"
      >
        {{ navItem.name }}
      </a>
    </nav>
  </div>
</header>